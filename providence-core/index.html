<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.1 at 2017-01-04 
 | Rendered using Apache Maven Fluido Skin 1.5
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170104" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Providence &#x2013; Providence Core</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.5.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.5.min.js"></script>

                      </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/morimekta/providence">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                <div id="bannerLeft">
                <h2>Providence Core</h2>
                </div>
                      </div>
        <div class="pull-right">  </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
              
                  <li id="publishDate">Last Published: 2017-01-04
                      <span class="divider">|</span>
                   </li>
                  <li id="projectVersion">Version: 0.3.5
                      </li>
                      
              
      
                            </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
              
                <ul class="nav nav-list">
                    <li class="nav-header">Project Documentation</li>
                                                                                                                                                
      <li>
  
                          <a href="project-info.html" title="Project Information">
          <span class="icon-chevron-down"></span>
        Project Information</a>
                    <ul class="nav nav-list">
                    
      <li>
  
                          <a href="dependencies.html" title="Dependencies">
          <span class="none"></span>
        Dependencies</a>
            </li>
                    
      <li class="active">
  
            <a href="#"><span class="none"></span>About</a>
          </li>
                    
      <li>
  
                          <a href="license.html" title="Licenses">
          <span class="none"></span>
        Licenses</a>
            </li>
                    
      <li>
  
                          <a href="team-list.html" title="Team">
          <span class="none"></span>
        Team</a>
            </li>
              </ul>
        </li>
                                                                                    
      <li>
  
                          <a href="project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
                              <li class="nav-header">Introduction</li>
                              
      <li>
  
                          <a href="../index.html" title="Providence">
          <span class="none"></span>
        Providence</a>
            </li>
                
      <li>
  
                          <a href="../providence-tools.html" title="Providence Tools">
          <span class="none"></span>
        Providence Tools</a>
            </li>
                
      <li>
  
                          <a href="https://github.com/morimekta/providence/releases" class="externalLink" title="Downloads & Releases">
          <span class="none"></span>
        Downloads & Releases</a>
            </li>
                              <li class="nav-header">Modules</li>
                              
      <li>
  
                          <a href="../providence-core/index.html" title="Core">
          <span class="none"></span>
        Core</a>
            </li>
                
      <li>
  
                          <a href="../providence-core-client/index.html" title="Core : Client">
          <span class="none"></span>
        Core : Client</a>
            </li>
                
      <li>
  
                          <a href="../providence-core-server/index.html" title="Core : Server">
          <span class="none"></span>
        Core : Server</a>
            </li>
                
      <li>
  
                          <a href="../providence-reflect/index.html" title="Utils : Reflect">
          <span class="none"></span>
        Utils : Reflect</a>
            </li>
                
      <li>
  
                          <a href="../providence-thrift/index.html" title="Utils : Thrift Bridge">
          <span class="none"></span>
        Utils : Thrift Bridge</a>
            </li>
                
      <li>
  
                          <a href="../providence-testing/index.html" title="Utils : Testing">
          <span class="none"></span>
        Utils : Testing</a>
            </li>
                
      <li>
  
                          <a href="../providence-config/index.html" title="Utils : Config">
          <span class="none"></span>
        Utils : Config</a>
            </li>
                
      <li>
  
                          <a href="../providence-jax-rs/index.html" title="Utils : Javax-Ws-Rs">
          <span class="none"></span>
        Utils : Javax-Ws-Rs</a>
            </li>
                
      <li>
  
                          <a href="../providence-generator/index.html" title="Tools : Generator">
          <span class="none"></span>
        Tools : Generator</a>
            </li>
                
      <li>
  
                          <a href="../providence-generator-java/index.html" title="Tools : Generator - Java">
          <span class="none"></span>
        Tools : Generator - Java</a>
            </li>
                
      <li>
  
                          <a href="../providence-generator-json/index.html" title="Tools : Generator - JSON">
          <span class="none"></span>
        Tools : Generator - JSON</a>
            </li>
                
      <li>
  
                          <a href="../providence-maven-plugin/index.html" title="Tools : Maven Plugin">
          <span class="none"></span>
        Tools : Maven Plugin</a>
            </li>
                
      <li>
  
                          <a href="../providence-gradle-plugin.html" title="Tools : Gradle Plugin">
          <span class="none"></span>
        Tools : Gradle Plugin</a>
            </li>
                              <li class="nav-header">Docs</li>
                              
      <li>
  
                          <a href="../release.html" title="Release Process">
          <span class="none"></span>
        Release Process</a>
            </li>
                
      <li>
  
                          <a href="../integration-testing.html" title="Integration Testing">
          <span class="none"></span>
        Integration Testing</a>
            </li>
                
      <li>
  
                          <a href="../serializer-binary.html" title="Serializer : Binary">
          <span class="none"></span>
        Serializer : Binary</a>
            </li>
                
      <li>
  
                          <a href="../serializer-fast-binary.html" title="Serializer : Fast Binary">
          <span class="none"></span>
        Serializer : Fast Binary</a>
            </li>
                
      <li>
  
                          <a href="../serializer-json.html" title="Serializer : JSON">
          <span class="none"></span>
        Serializer : JSON</a>
            </li>
            </ul>
              
                
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <h1>Providence Core</h1>
<p>The <tt>providence-core</tt> library has libraries to handle the messages themselves. With the exception of the <tt>PSerializer</tt> class and implementations, you should usually not need to worry about the library parts themselves. The serializer interface has 3 noteworthy methods:</p>

<ul>
  
<li><tt>int serialize(OutputStream os, PMessage m)</tt>: Serialize message with the  serializer onto the output stream. Since the message is self-describing no  descriptor is needed. It should return the number of bytes written.</li>
  
<li><tt>int serialize(OutputStream os, PDescriptor&lt;T&gt; t, T value)</tt>: Serialize the  value described by the descriptor t onto the stream. Note that the value type  T and descriptor has to match, otherwise an exception will be cast. It should  return the number of bytes written.</li>
  
<li><tt>T deserialize(InputStream is, PDescriptor&lt;T&gt; t)</tt>: Read an object of type T  with the descriptor t from the input stream. The object does not have to be a  Message, ant serializable type should work.</li>
</ul>
<p>The available serializers are as follows:</p>

<ul>
  
<li><b>BinarySerializer</b>: A native providence version of the thrift&#x2019;s  <b>TBinaryProtocol</b> binary format. It should generate the same serialized  data as TBinaryProtocol, and be able to parse data back from the same. It is  the default serializer in the <tt>pvdrpc</tt> tool. See  <a href="../serializer-binary.html">binary serializer spec</a> for details.</li>
  
<li><b>FastBinarySerializer</b>: A compact and efficient serialization format. The  serializer is designed to have a balance of computational and data  efficiency. See <a href="../serializer-fast-binary.html">fast binary serializer spec</a>  for details.</li>
  
<li><b>JsonSerializer</b>: A general purpose JSON serializer. This should be able  to read most generic JSON formats into providence structs that match with  name to field type mapping. See  <a href="../serializer-json.html">json serializer spec</a> for details.</li>
</ul>
<p>It also contains a <tt>PPrettyPrinter</tt> class that similar to the serializers can serialize messages to an easy to read, and easy to compare (e.g. line by line) format. But it does not have any deserializer yet, so is not a full serializer format (yet).</p>
<p><b>TODO(morimekta):</b> Make the PPrettyPrinter a full-fledged serializer with both serialization and deserialization. Note that it&#x2019;s OK if this is a slightly lossy serialization / deserialization, and not fast at all, as it is meant purely for testing and debugging.</p>
<div class="section">
<h2><a name="Streams"></a>Streams</h2>
<p>Convenience methods for creating java 8 streams from an input stream containing providence data.</p>

<ul>
  
<li><tt>MessageStreams.file(File f, PSerializer s, PDescriptor d)</tt>: Consume  messages from the file using the given serializer one at a time onto the  stream.</li>
  
<li><tt>MessageStreams.resource(String r, PSerializer, s, PDescriptor d)</tt>: Consume  messages from the java resource using the given serializer one at a time  onto the stream.</li>
  
<li><tt>MessageStreams.stream(InputStream in, PSerializer, s, PDescriptor d)</tt>: Consume  messages from the input stream using the given serializer one at a time  onto the stream.</li>
  
<li><tt>MessageCollectors.toFile(File f, PSerializer s)</tt>: Collect messages and write  them to file with the given serializer.</li>
  
<li><tt>MessageCollectors.toStream(OutputStream os, PSerializer s)</tt>: Collect  messages and write them to the given output stream with the given serializer.</li>
</ul></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                          <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-3087264-4', 'auto');
                ga('send', 'pageview');
            </script>
                </div>

        
                </div>
    </footer>
        </body>
</html>
