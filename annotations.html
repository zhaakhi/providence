<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 2018-01-02 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20180102" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Providence &#x2013; Annotations in Providence</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
                      <a href="https://github.com/morimekta/providence">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"
        alt="Fork me on GitHub">
    </a>
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><div id="bannerLeft"><h2>Providence</h2>
</div>
</div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2018-01-02<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 1.0.0</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a>  </li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a>  </li>
          <li class="nav-header">Introduction</li>
    <li><a href="index.html" title="Providence"><span class="none"></span>Providence</a>  </li>
    <li><a href="models.html" title="Providence Models"><span class="none"></span>Providence Models</a>  </li>
    <li><a href="services.html" title="Providence Services"><span class="none"></span>Providence Services</a>  </li>
    <li><a href="apache-thrift.html" title="Comparing with Thrift"><span class="none"></span>Comparing with Thrift</a>  </li>
    <li><a href="https://github.com/morimekta/providence/releases" class="externalLink" title="Downloads & Releases"><span class="none"></span>Downloads & Releases</a>  </li>
          <li class="nav-header">Modules</li>
    <li><a href="providence-core/index.html" title="Core"><span class="none"></span>Core</a>  </li>
    <li><a href="providence-core-client/index.html" title="Core : Client"><span class="none"></span>Core : Client</a>  </li>
    <li><a href="providence-core-server/index.html" title="Core : Server"><span class="none"></span>Core : Server</a>  </li>
    <li><a href="providence-core-jackson/index.html" title="Core : Jackson"><span class="none"></span>Core : Jackson</a>  </li>
    <li><a href="providence-reflect/index.html" title="Utils : Reflect"><span class="none"></span>Utils : Reflect</a>  </li>
    <li><a href="providence-testing/index.html" title="Utils : Testing"><span class="none"></span>Utils : Testing</a>  </li>
    <li><a href="providence-thrift/index.html" title="Utils : Thrift Bridge"><span class="none"></span>Utils : Thrift Bridge</a>  </li>
    <li><a href="providence-storage/index.html" title="Utils : Storage"><span class="none"></span>Utils : Storage</a>  </li>
    <li><a href="providence-config/index.html" title="Utils : Config (beta)"><span class="none"></span>Utils : Config (beta)</a>  </li>
    <li><a href="providence-storage-hazelcast/index.html" title="Utils : Storage - Hazelcast (beta)"><span class="none"></span>Utils : Storage - Hazelcast (beta)</a>  </li>
    <li><a href="providence-jax-rs/index.html" title="Utils : Javax-Ws-Rs (beta)"><span class="none"></span>Utils : Javax-Ws-Rs (beta)</a>  </li>
    <li><a href="providence-generator/index.html" title="Tools : Generator"><span class="none"></span>Tools : Generator</a>  </li>
    <li><a href="providence-generator-java/index.html" title="Tools : Generator - Java"><span class="none"></span>Tools : Generator - Java</a>  </li>
    <li><a href="providence-maven-plugin/index.html" title="Tools : Maven Plugin"><span class="none"></span>Tools : Maven Plugin</a>  </li>
    <li><a href="providence-gradle-plugin.html" title="Tools : Gradle Plugin"><span class="none"></span>Tools : Gradle Plugin</a>  </li>
          <li class="nav-header">CLI Tools</li>
    <li><a href="providence-tools-converter.html" title="CLI : Converter"><span class="none"></span>CLI : Converter</a>  </li>
    <li><a href="providence-tools-rpc.html" title="CLI : RPC Tool"><span class="none"></span>CLI : RPC Tool</a>  </li>
    <li><a href="providence-tools-config.html" title="CLI : Config Helper"><span class="none"></span>CLI : Config Helper</a>  </li>
    <li><a href="providence-tools-generator.html" title="CLI : Generator"><span class="none"></span>CLI : Generator</a>  </li>
          <li class="nav-header">Documentation</li>
    <li><a href="release.html" title="Release Process"><span class="none"></span>Release Process</a>  </li>
    <li><a href="integration-testing.html" title="Integration Testing"><span class="none"></span>Integration Testing</a>  </li>
    <li><a href="serializer-binary.html" title="Serializer : Binary"><span class="none"></span>Serializer : Binary</a>  </li>
    <li><a href="serializer-fast-binary.html" title="Serializer : Fast Binary"><span class="none"></span>Serializer : Fast Binary</a>  </li>
    <li><a href="serializer-json.html" title="Serializer : JSON"><span class="none"></span>Serializer : JSON</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Annotations in Providence</h1>
<p>The explicit use of annotations is one of the big differences between <tt>Apache Thrift</tt> and <tt>Providence</tt>, and is used for a fair bit of type modifications.</p>
<div class="section">
<h2><a name="Syntax"></a>Syntax</h2>
<p>Annotations are specified by adding a set of key-value pairs inside parentheses <i>after</i> a type or field is defined, where the key is a <i>qualified identifier</i>, and the value is a <i>quoted string literal</i>. Note that the annotations apply to whatever was defined <i>before</i> itself. E.g.:</p>

<div class="source">
<div class="source"><pre class="prettyprint">struct MyStruct {
    1: string field (annotation.on.field = &quot;value&quot;)
    2: i32    other (annotation.on.other = &quot;value&quot;)
} (annotation.on.struct = &quot;value&quot;)
</pre></div></div>
<p>Or in IDL syntax:</p>

<div class="source">
<div class="source"><pre class="prettyprint">ANNOTATIONS          :== '(' ANNOTATION [ [',' ';'] ANNOTATION ]* ')'

ANNOTATION           :== IDENTIFIER '=' LITERAL

ANNOTATED_DEFINITION :== DEFINITION ANNOTATION?
</pre></div></div></div>
<div class="section">
<h2><a name="Annotation_Specifications"></a>Annotation Specifications</h2>
<p>A number of annotations that modify different subsystems are:</p>
<div class="section">
<h3><a name="Container_Type"></a>Container Type</h3>
<p>The <tt>set</tt> and <tt>map</tt> container types uses by default an <tt>ImmutableSet</tt> or the <tt>ImmutableMap</tt> guava classes respectively, which uses a simple <tt>hash</tt> storage. Two other variants exists, which is controlled by the <tt>container</tt> annotations.</p>

<ul>
  
<li><tt>container = &quot;SORTED&quot;</tt>: On fields with set or map type only, will replace the  default hash-based container with a sorted container. In java that is the  <tt>ImmutableSortedMap</tt> or similar.</li>
  
<li><tt>container = &quot;ORDERED&quot;</tt>: On fields with set or map type only, will replace the  default hash-based container with an order-preserving container. In java that  is the <tt>LinkedHashMap</tt> or similar.</li>
</ul></div>
<div class="section">
<h3><a name="Java_Specific_Annotations"></a>Java Specific Annotations</h3>

<ul>
  
<li><tt>java.implements</tt> Each java message (union, struct, exception) can implement  additional interfaces specified by this annotation. Full package and class name.  Note that the message is still a full implementation, so the interface methods  need to be implemented (declared) by the generated code, or have default  implementations.</li>
  
<li><tt>java.exception.class</tt> Which exception class to inherit from. This must be the  full class path of an exception. Note that whether it is an exception is not  checked in the generator, it is plainly trusted as the exception class.</li>
  
<li><tt>java.service.methods.throws</tt> Which replaces the declared exceptions with the  given exception class on the <b>service interface only</b>. Also note that:
  
<ul>
    
<li>The property is <b>not</b> inherited, and only applies to the methods declared on  the service with the annotation.</li>
    
<li>All the declared exceptions <b>must</b> extend the given exception.</li>
    
<li>The exception class <b>must</b> be available at compile time, and have a  constructor that takes the message string only.</li>
    
<li>Any exception that not declared, including those that extend the base exception  class will be handled as an application level failure, throwing  <tt>PApplicationException</tt>.</li>
    
<li>The client will still only throw the declared exceptions (and <tt>IOException</tt>).</li>
  </ul></li>
  
<li><tt>java.public.constructor</tt> will create a public constructor with all fields as  params. Note that this used to be default on, but is now default off and triggered  with this annotation.</li>
</ul></div>
<div class="section">
<h3><a name="Other"></a>Other</h3>

<ul>
  
<li><tt>deprecated = &quot;&lt;message&gt;&quot;</tt>: Will mark the associated methods, service or class as  being deprecated (should not be used). Since the syntax for deprecating a class  is different for each language, it is handled in annotation, and should e.g.  generate <tt>@Deprecated</tt> annotations in java.</li>
  
<li><tt>json.compact = &quot;&quot;</tt>: Enables the use of the compact syntax in the  <a href="serializer-json.html">json serializer</a>.</li>
</ul></div></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
<script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

                ga('create', 'UA-3087264-4', 'auto');
                ga('send', 'pageview');
            </script>
        </div>
        </div>
    </footer>
    </body>
</html>
